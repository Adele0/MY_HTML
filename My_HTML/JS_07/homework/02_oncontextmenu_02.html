<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			ul {
				width: 140px;
				height: 110px;
				padding-left: 8px;
				background-color: lightcyan;
				border: dotted 1px lightblue;
				
				/*忘记设置position，要获取鼠标点击右键位置为position赋值！！！*/
				position: absolute;
				top: 0;
				left: 0;
				
				display: none;
			}
			
			li {
				list-style: none;
			}
			
			
		</style>
		
	</head>
	<body>
		
		<ul id="diyMenu">
			<li>复制（C）</li>
			<li>粘贴（V）</li>
			<li>剪切（T）</li>
			<li>另存为（SaveAs）</li>
			<li>翻译（Trans）</li>
		</ul>
		
		<script type="text/javascript">
			
//			自定义一个浏览器右键菜单，单击右键是显示它有多个按钮，制作点击某个按钮，就让这个按钮隐藏掉；
		
			
//			oncontextmenu是在window下的注册事件，直接定义	

			//作为全局变量,注册事件和解除事件都能访问得到
			var ul = document.getElementById("diyMenu");
			
			//右键注册事件
			window.oncontextmenu=function (e) {
				var e  = e || window.event;
		
				var x = e.clientX;	//鼠标横坐标--》left
				var y = e.clientY;	//鼠标纵坐标--》top
				
//				不让菜单框显示在屏幕以外的地方，首先得到屏幕的宽高，
				var wx = document.documentElement.clientWidth;	//浏览器服务端宽度
				var wy = document.documentElement.clientHeight;	//浏览器服务端高度
				
//				如果鼠标的x,y加上菜单自身的宽高超过则,用自己的宽高减去多余的部分		
				if (x+140-wx>0) {
					x = x-(x+140-wx);
				}
				
				if (y+110-wy>0) {
					y = y-(y+140-wy);
				} 
				
				
				ul.style.left = x +"px";	//此处变为字符串拼接
				ul.style.top = y +"px";
				ul.style.display="block";
				
				e.preventDefault();  //此处阻止浏览器的右键菜单弹出
			}
			
			//左键解除释放事件
			window.onclick=function () {
				ul.style.display="none";
			}
			
		</script>
		
	</body>
</html>
